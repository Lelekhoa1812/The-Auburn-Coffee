<!-- https://the-auburn-coffee-bqkyepzfh-lelekhoa1812s-projects.vercel.app/about.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="website icon" type="png" href="image/icon.png" >
    <!-- Font Awesome Icon Library, usage for ratting function -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>About The Auburn Coffee</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: rgb(255, 242, 179); /* background */
            margin: 20px;
        }
        .navbar {
            display: flex;
            padding: 22px 0;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            justify-content: space-between;
        }
        .navbar .logo {
            gap: 10px;
            display: flex;
            align-items: center;
            text-decoration: none;
        }
        .navbar .logo img {
            width: 100px;
            border-radius: 50%;
        }
        .navbar .links {
            display: flex;
            gap: 35px;
            list-style: none;
            align-items: center;
        }

        .navbar .links a {
            color: rgb(144, 100, 18);
            font-size: 1.1rem;
            font-weight: 500;
            text-decoration: none;
            transition: 0.1s ease;
        }
        .navbar .links a:hover {
            color: rgb(18, 129, 144);
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            margin: auto;
            max-width: 800px;
            display: flex;
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            flex-direction: column; /* Stack children vertically */
        }
        .img {
            width: 40%;
            height: auto;
            border-radius: 8px;
        }     
        h1, h2 {
            text-align: center;
            color: rgb(144, 100, 18);
        }
        p {
            text-align: justify;
            margin-bottom: 20px;
            line-height: 1.6;
            color: rgb(52, 37, 0);
        }
        .image-caption {
            font-weight: bold;
            text-align: center;
            margin-top: 5px;
        }
        .highlight {
            font-weight: bold;
            color: #555;
        }
        .rating-button {
            position: fixed;
            right: 10px;
            bottom: 20px;
            background-color: rgb(144, 100, 18);
            color: rgb(255, 238, 207);
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .rating-button:hover {
            background-color: rgb(209, 182, 133);
            color: rgb(66, 43, 1);
        }
        /* Modal box for feedback */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Fixed position */
            z-index: 1; /* On top of everything else */
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; /* Enable scroll */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black with opacity */
        }
        .modal-content {
            background-color: rgb(204, 188, 158);
            margin: 15% auto; /* 15% from top, centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        /* Star rating styles */
        .stars {
            display: flex;
            justify-content: center;
        }
        .fa-star {
            font-size: 36px;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .fa-star:hover {
            color: orange;
        }
        .checked { 
            color: orange;
        }
        .feedback-message {
            color: rgb(73, 48, 1);;
            margin-top: 20px;
            font-size: 18px;
        }
        .rating-message {
            color: rgb(161, 124, 45);
            margin-top: 20px;
            font-size: 18px;
        }
        .submitFeedback-button {
            position: center;
            margin-top: 20px;
            background-color: rgb(144, 100, 18);
            color: rgb(1, 18, 37);
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .submitFeedback-button:hover {
            background-color: rgb(248, 195, 96);
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <a href="#" class="logo">
                <img src="products/auburn.jpg" alt="logo">
                <h1>The Auburn Coffee</h1>
            </a>
            <ul class="links">
                <li><a href="home.html">Home Menu</a></li>  <!-- To home page -->
                <li><a href="#">About Us</a></li>
                <li><a href="ingredient.html">Our Ingredients</a></li> <!-- To ingredient page -->
            </ul>
        </nav>
    </header>
    <div class="container">
        <h1>Welcome to The Auburn Coffee</h1>
        <p>
            Located at <span class="highlight">Auburn Station, Hawthorn East VIC 3123</span>, <strong>The Auburn Coffee</strong> is your local café dedicated to serving commuters and the local community with exceptional coffee on the go. As a bustling coffee takeaway business, we are positioned ideally for Auburn locals and public train transportation users seeking a quick, delicious boost to start an energetic day.
        </p>
        <img src="products/auburn2.jpg" alt="Auburn Station" class="img">
        <p class="image-caption">The station where we are</p>
        <img src="products/auburn4.jpg" alt="Auburn Station Night" class="img">
        <p class="image-caption">It come cozy at night too!</p>
        <h2>Our Commitment to Quality</h2>
        <p>
            At The Auburn Coffee, we believe that a great day starts with a great cup of coffee. That’s why we are committed to using only the <span class="highlight">best ingredients</span>—sourcing high-quality Arabica beans and premium accompaniments to ensure every cup we serve is as good as it gets. Our goal is to enhance your morning and provide the energy you need to tackle the day.
        </p>
        <img src="products/cup.webp" alt="Quality" class="img">
        <p class="image-caption">Quality is a guarantee ^^</p>
        <h2>Friendly Local Business</h2>
        <p>
            More than just a coffee shop, we pride ourselves on being a <span class="highlight">friendly face</span> in the community. We delight in meeting new people and greeting familiar faces each day, contributing to the vibrant atmosphere of Auburn Station.
        </p>
        <h2>Trading Hours</h2>
        <p>
            Join us for your morning coffee from <span class="highlight">7:00 AM to 10:00 AM</span>. On Thursdays, we extend our hours to accommodate the afternoon rush, reopening from <span class="highlight">4:00 PM to 6:00 PM</span>. Whether it’s your morning start or a late-day pick-me-up, we’re here to serve you when you need it most.
        </p>
        <img src="products/auburn3.jpg" alt="Our Store" class="img">
        <p class="image-caption">Here we are at Auburn</p>
    </div>
    <!-- Rate Us Button -->
    <button class="rating-button" id="rateButton">Rate Us</button>
    <!-- Rating Modal -->
    <div id="ratingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRatingModal()">&times;</span>
            <h2>Rate Us</h2>
            <div class="stars">
                <span class="fa fa-star" data-rate="1"></span>
                <span class="fa fa-star" data-rate="2"></span>
                <span class="fa fa-star" data-rate="3"></span>
                <span class="fa fa-star" data-rate="4"></span>
                <span class="fa fa-star" data-rate="5"></span>
            </div>
            <button class="submitFeedback-button" onclick="submitRating()">Submit Feedback</button>
            <div id="feedbackMessage" class="feedback-message"></div>
        </div>
    </div>
    <!-- Firebase and App Scripts -->
    <script type="module">
        import { db } from './firebaseInit.js';
        // Listener and loading content
        document.addEventListener('DOMContentLoaded', () => {
            const rateButton = document.getElementById('rateButton');
            rateButton.addEventListener('click', openRatingModal);
    
            document.querySelectorAll('.fa-star').forEach(star => {
                star.addEventListener('mouseover', () => toggleStars(star.dataset.rate));
            });
        });
        // Sample connection test
        const testConnection = async () => {
            try {
                const docRef = await db.collection('test').add({
                    testField: 'testValue',
                });
                console.log('Test document written with ID: ', docRef.id);
            } catch (error) {
                console.error('Error adding document: ', error);
            }
        };
        testConnection();
        // Toggle star count on mouseover from user side
        const toggleStars = rate => {
            document.querySelectorAll('.fa-star').forEach((star, i) => {
                star.classList.toggle('checked', i < rate);
            });
        };
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";
        // Check index for the number of star given, prepare message
        window.submitRating = async () => {
            const stars = document.querySelectorAll('.fa-star.checked').length;
            const feedbackMessage = document.getElementById('feedbackMessage');
            // Assert star count to prepare according message
            if (stars > 0) {
                try {
                    await addDoc(collection(db, 'ratings'), {
                        stars,
                        timestamp: new Date(),
                    });
                    feedbackMessage.textContent =
                        stars >= 3
                            ? `Thank you! We're thrilled with your ${stars}-star feedback!`
                            : `Thank you for your ${stars}-star feedback. We value your input and will improve!`;
                } catch (error) {
                    console.error('Error saving rating:', error);
                    feedbackMessage.textContent = 'There was an issue submitting your feedback. Please try again.';
                }
            } else { // Deny user from submitting 0 star
                feedbackMessage.textContent = 'Please select a star rating before submitting!';
            }
        };
        // Open the rating modal upon on click
        const openRatingModal = () => {
            document.getElementById('ratingModal').style.display = 'block';
        };
        // Close the rating modal upon on click
        const closeRatingModal = () => {
            document.getElementById('ratingModal').style.display = 'none';
        };
    </script>
    <!-- Bootstrap JavaScript reference -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
